<!-- Controls/AdvancedDataGrid.xaml - ✅ SIMPLIFIKOVANÝ pre NuGet kompatibilitu -->
<UserControl
    x:Class="RpaWinUiComponents.AdvancedWinUiDataGrid.AdvancedDataGrid"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:RpaWinUiComponents.AdvancedWinUiDataGrid"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <UserControl.Resources>
        <!-- ✅ Základné brushe bez komplikovaných converterov -->
        <SolidColorBrush x:Key="CellBackgroundBrush" Color="White"/>
        <SolidColorBrush x:Key="CellBorderBrush" Color="LightGray"/>
        <SolidColorBrush x:Key="HeaderBackgroundBrush" Color="#F0F0F0"/>
        <SolidColorBrush x:Key="ValidationErrorBrush" Color="Red"/>
    </UserControl.Resources>

    <Grid x:Name="RootGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- ✅ Loading Overlay -->
        <Border x:Name="LoadingOverlay"
                Grid.RowSpan="2"
                Background="White"
                Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="12">
                <ProgressRing IsActive="True" Width="32" Height="32"/>
                <TextBlock x:Name="LoadingText" 
                          Text="Inicializuje sa DataGrid..."
                          FontSize="14"
                          HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>

        <!-- ✅ Jednoduchý header -->
        <Border Grid.Row="0" 
                Background="{StaticResource HeaderBackgroundBrush}"
                BorderBrush="{StaticResource CellBorderBrush}"
                BorderThickness="0,0,0,1"
                Height="40">
            <TextBlock Text="Advanced DataGrid - Auto-Add funkcionalita"
                      Margin="12,0"
                      VerticalAlignment="Center"
                      FontWeight="SemiBold"/>
        </Border>

        <!-- ✅ Hlavný obsah - zatiaľ jednoduchý placeholder -->
        <ScrollViewer x:Name="MainScrollViewer"
                     Grid.Row="1"
                     Background="{StaticResource CellBackgroundBrush}"
                     BorderBrush="{StaticResource CellBorderBrush}"
                     BorderThickness="1">

            <StackPanel x:Name="ContentPanel" 
                       Margin="20">

                <TextBlock Text="🚀 Advanced DataGrid Component"
                          FontSize="18"
                          FontWeight="Bold"
                          Margin="0,0,0,12"/>

                <TextBlock Text="✅ Komponent úspešne načítaný z NuGet balíka!"
                          FontSize="14"
                          Foreground="Green"
                          Margin="0,0,0,8"/>

                <TextBlock Text="⭐ NOVÉ: Auto-Add riadkov funkcionalita implementovaná"
                          FontSize="14"
                          Foreground="Blue"
                          Margin="0,0,0,8"/>

                <Border Background="LightYellow"
                        BorderBrush="Orange"
                        BorderThickness="1"
                        Padding="12"
                        CornerRadius="4"
                        Margin="0,12,0,0">

                    <StackPanel>
                        <TextBlock Text="🎯 AUTO-ADD Demo Info:"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,8"/>

                        <TextBlock Text="• Minimum riadkov: 5 (z inicializácie)"
                                  Margin="0,0,0,4"/>

                        <TextBlock Text="• Načítané dáta: 8 riadkov"
                                  Margin="0,0,0,4"/>

                        <TextBlock Text="• Výsledok: 9 riadkov (8 s dátami + 1 prázdny)"
                                  Margin="0,0,0,4"/>

                        <TextBlock Text="• Pri vyplnení posledného riadku sa pridá nový prázdny"
                                  Margin="0,0,0,4"/>

                        <TextBlock Text="• Pri mazaní: ak > minimum → fyzicky zmaž, inak vyčisti obsah"
                                  Margin="0,0,0,4"/>
                    </StackPanel>
                </Border>

                <!-- ✅ Test buttons -->
                <StackPanel Orientation="Horizontal" 
                           Spacing="12" 
                           Margin="0,20,0,0">

                    <Button x:Name="TestButton1"
                           Content="Test AUTO-ADD"
                           Click="OnTestAutoAddClick"
                           Background="LightBlue"/>

                    <Button x:Name="TestButton2" 
                           Content="Test Validácie"
                           Click="OnTestValidationClick"
                           Background="LightGreen"/>

                    <Button x:Name="TestButton3"
                           Content="Test Delete"
                           Click="OnTestDeleteClick"
                           Background="LightCoral"/>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>

    </Grid>
</UserControl>