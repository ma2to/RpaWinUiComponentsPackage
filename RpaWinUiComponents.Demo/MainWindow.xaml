<!-- RpaWinUiComponents.Demo/MainWindow.xaml - ✅ OPRAVENÝ namespace -->
<Window x:Class="RpaWinUiComponentsPackage.Demo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="🚀 RPA WinUI Components Demo - Package Testing">

    <Grid Background="{ThemeResource LayerFillColorDefaultBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Background="{ThemeResource LayerFillColorAltBrush}"
                Padding="20,16">
            <StackPanel>
                <TextBlock Text="🚀 RPA WinUI Components Demo"
                          FontSize="24"
                          FontWeight="Bold"
                          Margin="0,0,0,8"/>
                <TextBlock x:Name="InitStatusText"
                          Text="Inicializuje sa Package Testing..."
                          FontSize="14"
                          Opacity="0.8"/>
            </StackPanel>
        </Border>

        <!-- Control Panel -->
        <ScrollViewer Grid.Row="1" 
                      HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Disabled">
            <StackPanel Orientation="Vertical" 
                        Padding="20,16" 
                        Spacing="16">

                <!-- Individual Colors Controls -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="🎨 Individual Colors Configuration"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="ApplyLightThemeButton"
                                    Content="Light Colors"
                                    Click="OnApplyLightThemeClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="ApplyDarkThemeButton"
                                    Content="Dark Colors"
                                    Click="OnApplyDarkThemeClick"/>

                            <Button x:Name="ApplyBlueThemeButton"
                                    Content="Blue Colors"
                                    Click="OnApplyBlueThemeClick"/>

                            <Button x:Name="ApplyCustomThemeButton"
                                    Content="Custom Orange + Strong Zebra"
                                    Click="OnApplyCustomThemeClick"/>

                            <Button x:Name="ResetThemeButton"
                                    Content="Reset (No Zebra)"
                                    Click="OnResetThemeClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Search/Sort/Zebra Controls -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="🔍 Search/Sort/Zebra Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestSearchButton"
                                    Content="🔍 Test Search"
                                    Click="OnTestSearchClick"/>

                            <Button x:Name="TestSortButton"
                                    Content="⬆️⬇️ Test Sort"
                                    Click="OnTestSortClick"/>

                            <Button x:Name="TestZebraToggleButton"
                                    Content="🦓 Toggle Zebra"
                                    Click="OnTestZebraToggleClick"/>

                            <Button x:Name="ClearSearchButton"
                                    Content="🧹 Clear Search"
                                    Click="OnClearSearchClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- AUTO-ADD Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="🔥 AUTO-ADD Functionality Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestAutoAddFewRowsButton"
                                    Content="Load 2 Rows"
                                    Click="OnTestAutoAddFewRowsClick"/>

                            <Button x:Name="TestAutoAddManyRowsButton"
                                    Content="Load 20 Rows"
                                    Click="OnTestAutoAddManyRowsClick"/>

                            <Button x:Name="TestAutoAddDeleteButton"
                                    Content="Test Smart Delete"
                                    Click="OnTestAutoAddDeleteClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Standard Functions -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="📊 Standard DataGrid Functions"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LoadSampleDataButton"
                                    Content="📊 Load Sample Data"
                                    Click="OnLoadSampleDataClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="ValidateAllButton"
                                    Content="✅ Validate All"
                                    Click="OnValidateAllClick"/>

                            <Button x:Name="ClearDataButton"
                                    Content="🗑️ Clear All Data"
                                    Click="OnClearDataClick"/>

                            <Button x:Name="ExportDataButton"
                                    Content="📤 Export Data"
                                    Click="OnExportDataClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: Background Validation Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="⏳ Background Validation Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestEmailDuplicateButton"
                                    Content="🔍 Test Email Duplicate"
                                    Click="OnTestEmailDuplicateClick"
                                    ToolTipService.ToolTip="Adds 'test@duplicate.sk' to trigger background validation"/>

                            <Button x:Name="TestTaxNumberButton"
                                    Content="🏢 Test Tax Number"
                                    Click="OnTestTaxNumberClick"
                                    ToolTipService.ToolTip="Adds valid/invalid tax numbers"/>

                            <Button x:Name="AddBgValidationRuleButton"
                                    Content="➕ Add BG Rule"
                                    Click="OnAddBgValidationRuleClick"/>

                            <Button x:Name="GetBgDiagnosticsButton"
                                    Content="📊 BG Diagnostics"
                                    Click="OnGetBgDiagnosticsClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: Search & Filter Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="🔍 Search & Filter Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="SearchNameAnnaButton"
                                    Content="🔍 Search 'Anna'"
                                    Click="OnSearchNameAnnaClick"/>

                            <Button x:Name="SearchEmailTestButton"
                                    Content="📧 Search 'test'"
                                    Click="OnSearchEmailTestClick"/>

                            <Button x:Name="ClearSearchButton"
                                    Content="🗑️ Clear Search"
                                    Click="OnClearSearchClick"/>

                            <Button x:Name="SortByAgeButton"
                                    Content="🔢 Sort by Age"
                                    Click="OnSortByAgeClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: CheckBox Operations Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="☑️ CheckBox Operations Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="CheckAllRowsButton"
                                    Content="☑️ Check All"
                                    Click="OnCheckAllRowsClick"/>

                            <Button x:Name="UncheckAllRowsButton"
                                    Content="☐ Uncheck All"
                                    Click="OnUncheckAllRowsClick"/>

                            <Button x:Name="GetCheckedCountButton"
                                    Content="📊 Get Checked Count"
                                    Click="OnGetCheckedCountClick"/>

                            <Button x:Name="DeleteCheckedButton"
                                    Content="🗑️ Delete Checked"
                                    Click="OnDeleteCheckedClick"/>

                            <Button x:Name="ExportCheckedButton"
                                    Content="📤 Export Checked"
                                    Click="OnExportCheckedClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: Navigation Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="🧭 Navigation Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="MoveToCell00Button"
                                    Content="🎯 Move to [0,0]"
                                    Click="OnMoveToCell00Click"/>

                            <Button x:Name="MoveToNextCellButton"
                                    Content="➡️ Move Next"
                                    Click="OnMoveToNextCellClick"/>

                            <Button x:Name="MoveToPrevCellButton"
                                    Content="⬅️ Move Previous"
                                    Click="OnMoveToPrevCellClick"/>

                            <Button x:Name="SelectAllCellsButton"
                                    Content="🎯 Select All Cells"
                                    Click="OnSelectAllCellsClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: Import/Export Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="📁 Import/Export Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="ExportCsvButton"
                                    Content="📄 Export CSV"
                                    Click="OnExportCsvClick"/>

                            <Button x:Name="ExportJsonButton"
                                    Content="📄 Export JSON"
                                    Click="OnExportJsonClick"/>

                            <Button x:Name="ImportCsvButton"
                                    Content="📥 Import CSV"
                                    Click="OnImportCsvClick"/>

                            <Button x:Name="GetExportHistoryButton"
                                    Content="📊 Export History"
                                    Click="OnGetExportHistoryClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: LoggerComponent Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="📝 LoggerComponent Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LogInfoButton"
                                    Content="ℹ️ Log Info"
                                    Click="OnLogInfoClick"/>

                            <Button x:Name="LogWarningButton"
                                    Content="⚠️ Log Warning"
                                    Click="OnLogWarningClick"/>

                            <Button x:Name="LogErrorButton"
                                    Content="❌ Log Error"
                                    Click="OnLogErrorClick"/>

                            <Button x:Name="GetLoggerDiagnosticsButton"
                                    Content="📊 Logger Diagnostics"
                                    Click="OnGetLoggerDiagnosticsClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ✅ NOVÉ: Advanced Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="🧪 Advanced Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LoadLargeDatasetButton"
                                    Content="📊 Load Large Dataset (100 rows)"
                                    Click="OnLoadLargeDatasetClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="TestAllValidationButton"
                                    Content="✅ Test All Validation"
                                    Click="OnTestAllValidationClick"/>

                            <Button x:Name="StressTestButton"
                                    Content="⚡ Stress Test"
                                    Click="OnStressTestClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- Main DataGrid Area -->
        <Border Grid.Row="2"
                Margin="20,0,20,16"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8">

            <Grid>
                <!-- Loading Panel -->
                <StackPanel x:Name="LoadingPanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Spacing="20"
                           Visibility="Visible">

                    <ProgressRing Width="48" 
                                 Height="48" 
                                 IsActive="True"/>

                    <StackPanel Spacing="12" 
                               HorizontalAlignment="Center">
                        <TextBlock x:Name="LoadingDetailText"
                                  Text="Kontroluje sa package dostupnosť..."
                                  FontSize="16"
                                  FontWeight="Medium"
                                  HorizontalAlignment="Center"/>

                        <TextBlock Text="📦 Package Reference testovanie aktívne..."
                                  FontSize="14"
                                  Opacity="0.7"
                                  HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- Fallback: Ak package nie je dostupný -->
                <StackPanel x:Name="NoPackagePanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Spacing="20"
                           Visibility="Collapsed">

                    <FontIcon Glyph="&#xE783;" 
                             FontSize="48"
                             Foreground="{ThemeResource SystemFillColorCautionBrush}"/>

                    <StackPanel Spacing="12" HorizontalAlignment="Center">
                        <TextBlock Text="📦 Package nie je dostupný"
                                  FontSize="18"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"/>

                        <TextBlock Text="Demo beží v obmedzenom režime"
                                  FontSize="14"
                                  Opacity="0.7"
                                  HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- DataGrid komponent placeholder -->
                <ContentControl x:Name="DataGridControl"
                               Visibility="Collapsed"
                               Content="DataGrid placeholder - bude nahradený skutočným komponentom ak je package dostupný"/>

            </Grid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="3"
                Background="{ThemeResource LayerFillColorAltBrush}"
                Padding="20,12">
            <TextBlock x:Name="StatusTextBlock"
                      Text="📦 Inicializuje sa package testing..."
                      FontSize="12"
                      Opacity="0.8"/>
        </Border>

    </Grid>
</Window>