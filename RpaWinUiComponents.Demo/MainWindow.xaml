<!-- RpaWinUiComponents.Demo/MainWindow.xaml - âœ… OPRAVENÃ conditional XAML -->
<Window x:Class="RpaWinUiComponents.Demo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸš€ RPA WinUI Components Demo - Package Testing">

    <Grid Background="{ThemeResource LayerFillColorDefaultBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Background="{ThemeResource LayerFillColorAltBrush}"
                Padding="20,16">
            <StackPanel>
                <TextBlock Text="ðŸš€ RPA WinUI Components Demo"
                          FontSize="24"
                          FontWeight="Bold"
                          Margin="0,0,0,8"/>
                <TextBlock x:Name="InitStatusText"
                          Text="Inicializuje sa Package Testing..."
                          FontSize="14"
                          Opacity="0.8"/>
            </StackPanel>
        </Border>

        <!-- Control Panel -->
        <ScrollViewer Grid.Row="1" 
                      HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Disabled">
            <StackPanel Orientation="Vertical" 
                        Padding="20,16" 
                        Spacing="16">

                <!-- Package Status -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“¦ Package Status"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Expected Package:" VerticalAlignment="Center"/>
                            <TextBlock Text="RpaWinUiComponents.AdvancedWinUiDataGrid v1.0.18" 
                                      FontFamily="Consolas"
                                      Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                                      Padding="4,2"
                                      CornerRadius="3"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Individual Colors Controls -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸŽ¨ Individual Colors Configuration"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="ApplyLightThemeButton"
                                    Content="Light Colors"
                                    Click="OnApplyLightThemeClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="ApplyDarkThemeButton"
                                    Content="Dark Colors"
                                    Click="OnApplyDarkThemeClick"/>

                            <Button x:Name="ApplyBlueThemeButton"
                                    Content="Blue Colors"
                                    Click="OnApplyBlueThemeClick"/>

                            <Button x:Name="ApplyCustomThemeButton"
                                    Content="Custom Orange + Strong Zebra"
                                    Click="OnApplyCustomThemeClick"/>

                            <Button x:Name="ResetThemeButton"
                                    Content="Reset (No Zebra)"
                                    Click="OnResetThemeClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Search/Sort/Zebra Controls -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ” Search/Sort/Zebra Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestSearchButton"
                                    Content="ðŸ” Test Search"
                                    Click="OnTestSearchClick"/>

                            <Button x:Name="TestSortButton"
                                    Content="â¬†ï¸â¬‡ï¸ Test Sort"
                                    Click="OnTestSortClick"/>

                            <Button x:Name="TestZebraToggleButton"
                                    Content="ðŸ¦“ Toggle Zebra"
                                    Click="OnTestZebraToggleClick"/>

                            <Button x:Name="ClearSearchButton"
                                    Content="ðŸ§¹ Clear Search"
                                    Click="OnClearSearchClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- AUTO-ADD Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ”¥ AUTO-ADD Functionality Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestAutoAddFewRowsButton"
                                    Content="Load 2 Rows"
                                    Click="OnTestAutoAddFewRowsClick"/>

                            <Button x:Name="TestAutoAddManyRowsButton"
                                    Content="Load 20 Rows"
                                    Click="OnTestAutoAddManyRowsClick"/>

                            <Button x:Name="TestAutoAddDeleteButton"
                                    Content="Test Smart Delete"
                                    Click="OnTestAutoAddDeleteClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Standard Functions -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“Š Standard DataGrid Functions"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LoadSampleDataButton"
                                    Content="ðŸ“Š Load Sample Data"
                                    Click="OnLoadSampleDataClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="ValidateAllButton"
                                    Content="âœ… Validate All"
                                    Click="OnValidateAllClick"/>

                            <Button x:Name="ClearDataButton"
                                    Content="ðŸ—‘ï¸ Clear All Data"
                                    Click="OnClearDataClick"/>

                            <Button x:Name="ExportDataButton"
                                    Content="ðŸ“¤ Export Data"
                                    Click="OnExportDataClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Troubleshooting -->
                <Border Background="{ThemeResource SystemFillColorCautionBackgroundBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ”§ Troubleshooting"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <TextBlock Text="Ak sa package nenaÄÃ­ta:" FontWeight="SemiBold"/>
                        <TextBlock Text="1. SpustiÅ¥: dotnet restore" FontFamily="Consolas" Margin="16,0,0,0"/>
                        <TextBlock Text="2. Rebuild solution" FontFamily="Consolas" Margin="16,0,0,0"/>
                        <TextBlock Text="3. SkontroliÅ¥ Å¾e package 1.0.18 existuje v NuGet cache" FontFamily="Consolas" Margin="16,0,0,0"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- Main DataGrid Area -->
        <Border Grid.Row="2"
                Margin="20,0,20,16"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8">

            <Grid>
                <!-- Loading Panel -->
                <StackPanel x:Name="LoadingPanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Spacing="20"
                           Visibility="Visible">

                    <ProgressRing Width="48" 
                                 Height="48" 
                                 IsActive="True"/>

                    <StackPanel Spacing="12" 
                               HorizontalAlignment="Center">
                        <TextBlock x:Name="LoadingDetailText"
                                  Text="Kontroluje sa package dostupnosÅ¥..."
                                  FontSize="16"
                                  FontWeight="Medium"
                                  HorizontalAlignment="Center"/>

                        <TextBlock Text="ðŸ“¦ Package Reference testovanie aktÃ­vne..."
                                  FontSize="14"
                                  Opacity="0.7"
                                  HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- âœ… FALLBACK: Ak package nie je dostupnÃ½, zobraz placeholder -->
                <StackPanel x:Name="NoPackagePanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Spacing="20"
                           Visibility="Collapsed">

                    <FontIcon Glyph="&#xE783;" 
                             FontSize="48"
                             Foreground="{ThemeResource SystemFillColorCautionBrush}"/>

                    <StackPanel Spacing="12" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ“¦ Package nie je dostupnÃ½"
                                  FontSize="18"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"/>

                        <TextBlock Text="Demo beÅ¾Ã­ v obmedzenom reÅ¾ime"
                                  FontSize="14"
                                  Opacity="0.7"
                                  HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- âœ… CONDITIONAL: DataGrid komponent - iba ak je namespace dostupnÃ½ -->
                <!-- V C# kÃ³de kontrolujeme dostupnosÅ¥ cez conditional compilation -->
                <ContentControl x:Name="DataGridControl"
                               Visibility="Collapsed"
                               Content="DataGrid placeholder - bude nahradenÃ½ skutoÄnÃ½m komponentom ak je package dostupnÃ½"/>

            </Grid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="3"
                Background="{ThemeResource LayerFillColorAltBrush}"
                Padding="20,12">
            <TextBlock x:Name="StatusTextBlock"
                      Text="ðŸ“¦ Inicializuje sa package testing..."
                      FontSize="12"
                      Opacity="0.8"/>
        </Border>

    </Grid>
</Window>