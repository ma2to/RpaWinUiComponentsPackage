<!-- RpaWinUiComponents.Demo/MainWindow.xaml - âœ… OPRAVENÃ namespace -->
<Window x:Class="RpaWinUiComponentsPackage.Demo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸš€ RPA WinUI Components Demo - Package Testing">

    <Grid Background="{ThemeResource LayerFillColorDefaultBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Background="{ThemeResource LayerFillColorAltBrush}"
                Padding="20,16">
            <StackPanel>
                <TextBlock Text="ðŸš€ RPA WinUI Components Demo"
                          FontSize="24"
                          FontWeight="Bold"
                          Margin="0,0,0,8"/>
                <TextBlock x:Name="InitStatusText"
                          Text="Inicializuje sa Package Testing..."
                          FontSize="14"
                          Opacity="0.8"/>
            </StackPanel>
        </Border>

        <!-- Control Panel -->
        <ScrollViewer Grid.Row="1" 
                      HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Disabled">
            <StackPanel Orientation="Vertical" 
                        Padding="20,16" 
                        Spacing="16">

                <!-- Individual Colors Controls -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸŽ¨ Individual Colors Configuration"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="ApplyLightThemeButton"
                                    Content="Light Colors"
                                    Click="OnApplyLightThemeClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="ApplyDarkThemeButton"
                                    Content="Dark Colors"
                                    Click="OnApplyDarkThemeClick"/>

                            <Button x:Name="ApplyBlueThemeButton"
                                    Content="Blue Colors"
                                    Click="OnApplyBlueThemeClick"/>

                            <Button x:Name="ApplyCustomThemeButton"
                                    Content="Custom Orange + Strong Zebra"
                                    Click="OnApplyCustomThemeClick"/>

                            <Button x:Name="ResetThemeButton"
                                    Content="Reset (No Zebra)"
                                    Click="OnResetThemeClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Search/Sort/Zebra Controls -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ” Search/Sort/Zebra Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestSearchButton"
                                    Content="ðŸ” Test Search"
                                    Click="OnTestSearchClick"/>

                            <Button x:Name="TestSortButton"
                                    Content="â¬†ï¸â¬‡ï¸ Test Sort"
                                    Click="OnTestSortClick"/>

                            <Button x:Name="TestZebraToggleButton"
                                    Content="ðŸ¦“ Toggle Zebra"
                                    Click="OnTestZebraToggleClick"/>

                            <Button x:Name="ClearSearchButton"
                                    Content="ðŸ§¹ Clear Search"
                                    Click="OnClearSearchClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- AUTO-ADD Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ”¥ AUTO-ADD Functionality Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestAutoAddFewRowsButton"
                                    Content="Load 2 Rows"
                                    Click="OnTestAutoAddFewRowsClick"/>

                            <Button x:Name="TestAutoAddManyRowsButton"
                                    Content="Load 20 Rows"
                                    Click="OnTestAutoAddManyRowsClick"/>

                            <Button x:Name="TestAutoAddDeleteButton"
                                    Content="Test Smart Delete"
                                    Click="OnTestAutoAddDeleteClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Standard Functions -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“Š Standard DataGrid Functions"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LoadSampleDataButton"
                                    Content="ðŸ“Š Load Sample Data"
                                    Click="OnLoadSampleDataClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="ValidateAllButton"
                                    Content="âœ… Validate All"
                                    Click="OnValidateAllClick"/>

                            <Button x:Name="ClearDataButton"
                                    Content="ðŸ—‘ï¸ Clear All Data"
                                    Click="OnClearDataClick"/>

                            <Button x:Name="ExportDataButton"
                                    Content="ðŸ“¤ Export Data"
                                    Click="OnExportDataClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: Background Validation Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="â³ Background Validation Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="TestEmailDuplicateButton"
                                    Content="ðŸ” Test Email Duplicate"
                                    Click="OnTestEmailDuplicateClick"
                                    ToolTipService.ToolTip="Adds 'test@duplicate.sk' to trigger background validation"/>

                            <Button x:Name="TestTaxNumberButton"
                                    Content="ðŸ¢ Test Tax Number"
                                    Click="OnTestTaxNumberClick"
                                    ToolTipService.ToolTip="Adds valid/invalid tax numbers"/>

                            <Button x:Name="AddBgValidationRuleButton"
                                    Content="âž• Add BG Rule"
                                    Click="OnAddBgValidationRuleClick"/>

                            <Button x:Name="GetBgDiagnosticsButton"
                                    Content="ðŸ“Š BG Diagnostics"
                                    Click="OnGetBgDiagnosticsClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: Search & Filter Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ” Search & Filter Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="SearchNameAnnaButton"
                                    Content="ðŸ” Search 'Anna'"
                                    Click="OnSearchNameAnnaClick"/>

                            <Button x:Name="SearchEmailTestButton"
                                    Content="ðŸ“§ Search 'test'"
                                    Click="OnSearchEmailTestClick"/>

                            <Button x:Name="ClearSearchButton"
                                    Content="ðŸ—‘ï¸ Clear Search"
                                    Click="OnClearSearchClick"/>

                            <Button x:Name="SortByAgeButton"
                                    Content="ðŸ”¢ Sort by Age"
                                    Click="OnSortByAgeClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: CheckBox Operations Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="â˜‘ï¸ CheckBox Operations Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="CheckAllRowsButton"
                                    Content="â˜‘ï¸ Check All"
                                    Click="OnCheckAllRowsClick"/>

                            <Button x:Name="UncheckAllRowsButton"
                                    Content="â˜ Uncheck All"
                                    Click="OnUncheckAllRowsClick"/>

                            <Button x:Name="GetCheckedCountButton"
                                    Content="ðŸ“Š Get Checked Count"
                                    Click="OnGetCheckedCountClick"/>

                            <Button x:Name="DeleteCheckedButton"
                                    Content="ðŸ—‘ï¸ Delete Checked"
                                    Click="OnDeleteCheckedClick"/>

                            <Button x:Name="ExportCheckedButton"
                                    Content="ðŸ“¤ Export Checked"
                                    Click="OnExportCheckedClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: Navigation Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ§­ Navigation Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="MoveToCell00Button"
                                    Content="ðŸŽ¯ Move to [0,0]"
                                    Click="OnMoveToCell00Click"/>

                            <Button x:Name="MoveToNextCellButton"
                                    Content="âž¡ï¸ Move Next"
                                    Click="OnMoveToNextCellClick"/>

                            <Button x:Name="MoveToPrevCellButton"
                                    Content="â¬…ï¸ Move Previous"
                                    Click="OnMoveToPrevCellClick"/>

                            <Button x:Name="SelectAllCellsButton"
                                    Content="ðŸŽ¯ Select All Cells"
                                    Click="OnSelectAllCellsClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: Import/Export Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“ Import/Export Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="ExportCsvButton"
                                    Content="ðŸ“„ Export CSV"
                                    Click="OnExportCsvClick"/>

                            <Button x:Name="ExportJsonButton"
                                    Content="ðŸ“„ Export JSON"
                                    Click="OnExportJsonClick"/>

                            <Button x:Name="ImportCsvButton"
                                    Content="ðŸ“¥ Import CSV"
                                    Click="OnImportCsvClick"/>

                            <Button x:Name="GetExportHistoryButton"
                                    Content="ðŸ“Š Export History"
                                    Click="OnGetExportHistoryClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: LoggerComponent Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ“ LoggerComponent Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LogInfoButton"
                                    Content="â„¹ï¸ Log Info"
                                    Click="OnLogInfoClick"/>

                            <Button x:Name="LogWarningButton"
                                    Content="âš ï¸ Log Warning"
                                    Click="OnLogWarningClick"/>

                            <Button x:Name="LogErrorButton"
                                    Content="âŒ Log Error"
                                    Click="OnLogErrorClick"/>

                            <Button x:Name="GetLoggerDiagnosticsButton"
                                    Content="ðŸ“Š Logger Diagnostics"
                                    Click="OnGetLoggerDiagnosticsClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- âœ… NOVÃ‰: Advanced Testing -->
                <Border Background="{ThemeResource LayerFillColorAltBrush}"
                        CornerRadius="8"
                        Padding="16">
                    <StackPanel Spacing="12">
                        <TextBlock Text="ðŸ§ª Advanced Testing"
                                  FontWeight="SemiBold"
                                  FontSize="16"/>

                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button x:Name="LoadLargeDatasetButton"
                                    Content="ðŸ“Š Load Large Dataset (100 rows)"
                                    Click="OnLoadLargeDatasetClick"
                                    Style="{StaticResource AccentButtonStyle}"/>

                            <Button x:Name="TestAllValidationButton"
                                    Content="âœ… Test All Validation"
                                    Click="OnTestAllValidationClick"/>

                            <Button x:Name="StressTestButton"
                                    Content="âš¡ Stress Test"
                                    Click="OnStressTestClick"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <!-- Main DataGrid Area -->
        <Border Grid.Row="2"
                Margin="20,0,20,16"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8">

            <Grid>
                <!-- Loading Panel -->
                <StackPanel x:Name="LoadingPanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Spacing="20"
                           Visibility="Visible">

                    <ProgressRing Width="48" 
                                 Height="48" 
                                 IsActive="True"/>

                    <StackPanel Spacing="12" 
                               HorizontalAlignment="Center">
                        <TextBlock x:Name="LoadingDetailText"
                                  Text="Kontroluje sa package dostupnosÅ¥..."
                                  FontSize="16"
                                  FontWeight="Medium"
                                  HorizontalAlignment="Center"/>

                        <TextBlock Text="ðŸ“¦ Package Reference testovanie aktÃ­vne..."
                                  FontSize="14"
                                  Opacity="0.7"
                                  HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- Fallback: Ak package nie je dostupnÃ½ -->
                <StackPanel x:Name="NoPackagePanel"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Spacing="20"
                           Visibility="Collapsed">

                    <FontIcon Glyph="&#xE783;" 
                             FontSize="48"
                             Foreground="{ThemeResource SystemFillColorCautionBrush}"/>

                    <StackPanel Spacing="12" HorizontalAlignment="Center">
                        <TextBlock Text="ðŸ“¦ Package nie je dostupnÃ½"
                                  FontSize="18"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"/>

                        <TextBlock Text="Demo beÅ¾Ã­ v obmedzenom reÅ¾ime"
                                  FontSize="14"
                                  Opacity="0.7"
                                  HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>

                <!-- DataGrid komponent placeholder -->
                <ContentControl x:Name="DataGridControl"
                               Visibility="Collapsed"
                               Content="DataGrid placeholder - bude nahradenÃ½ skutoÄnÃ½m komponentom ak je package dostupnÃ½"/>

            </Grid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="3"
                Background="{ThemeResource LayerFillColorAltBrush}"
                Padding="20,12">
            <TextBlock x:Name="StatusTextBlock"
                      Text="ðŸ“¦ Inicializuje sa package testing..."
                      FontSize="12"
                      Opacity="0.8"/>
        </Border>

    </Grid>
</Window>